# Установка и настройка окружения
Для корректной работы потребуется установить Appium Server GUI и Appium inspector, а для их работы так же потребуются Android SDK (т.к. в любом случае будет необходим Android Studio, то нет смысла устанавливать отдельно) и JAVA SDK.
1. Appium server GUI: необходим для автоматизации действий с мобильным приложением. Скачивается с оффициального сайта - https://github.com/appium/appium-desktop/releases
2. Appium inspect: необходим для построения DOM приложения. При запуске тестов в нем нет необходимости - https://github.com/appium/appium-inspector/releases
3. Android studio: необходим для подключения как физического устройства, так и для создания виртуальных. Устанавливается с оф. сайта - https://developer.android.com/studio. Так же необходимо обязательно установить Android SDK.
4. Для работы Appium необходимо обеспечить корректную работу UiAutomator2 -https://github.com/appium/appium-uiautomator2-driver. Для него необходимо добавить Android и Java SDK в PATH.
5. Android sdk: В переменных окружения создаем новое значение ANDROID_HOME для которого указываем путь к Android SDK.
6. Java sdk: Аналогично в переменых окружения создаем новое значение JAVA_HOME для которого указываем путь к Java SDK.
7. Для работы Python необходимо установить версию 3.9 минимум - https://www.python.org/downloads/

# Запуск
Тесты проходят через pytest, поэтому запускать нужно именно тестовый конфиг.
1. При первом запуске необходимо выбрать виртуальное окружение. Оно настроено на пайтон 3.9.
2. Для выбора окружения необходимо в проекте перейти в параметр File -> Settings.
3. Выбрать пункт Project {name}, где name это название проекта
4. Выбрать пункт Python interpreter
5. В списке Python interpreter выбрать пункт Show all
6. Нажать кнопку + (Add) и в открывщемся окне выбрать пункт venv.
7. Скорее всего при таком действии уже будет указан выбор существующего виртуального окружения. Если этого не произошло, то необходимо самостоятельно задать путь: {project_path}/venv/scripts/python.exe, где project_path это путь к проекту

# Выбор версии приложения SLS
Для тестирования нужной версии  необходимо разместить APK файл приложения SLS в пути ./apps/ с названием "app-release.apk"

# Известные проблемы
1. Если при создании драйвера приложение будет падать с ошибкой "invalidsessionidexception", то:
<br/>1. Открыть эмулируемый телефон
<br/>2. Перейти в настройки -> приложения
<br/>3. Удалить два приложения: io.appium.uiautomator2.server и io.appium.uiautomator2.server.test
<br/>После данных действий драйвер должен успешно работать
2. На почту могут не приходить письма. В чем проблема не знаю, но иногда помогает менять email_login, чтобы отправлять письма на другую почту.
